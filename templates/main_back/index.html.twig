{% extends 'base.html.twig' %}

{% block title %}Hello MainBackController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container my-4">

    {% if app.user %}
        <div class="mb-3">
            <h1>Bienvenue {{ app.user.username }} !</h1>        
        </div>
    {% else %}
        <div class="mb-3">
            <h1>Bienvenue !</h1>        
        </div>
    {% endif %}

    <div class="mt-4">
    <h3>Les derniers ajouts d'items : </h3>

        <table class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nom</th>
                    <th>Image</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                {% if loop.index < 4 %}
                        <tr>
                            <td class = "align-middle">{{ item.id }}</td>
                            <td class = "align-middle">{{ item.name }}</td>
                            <td class = "align-middle">
                                <img src={{ item.image }} width="120" height ="120">
                            </td>
                            <td class = "align-middle">
                                <a class="btn btn-sm btn-primary mb-2" href="{{ path('app_item_show', {'id': item.id}) }}"><ion-icon name="eye-outline"></ion-icon></a>
                                <a class="btn btn-sm btn-warning mb-2" href="{{ path('app_item_edit', {'id': item.id}) }}"><ion-icon name="create-outline"></ion-icon></a>
                                {{ include('item/_delete_form.html.twig') }}
                            </td>
                        </tr>
                {% endif %}
                {% endfor %}
            </tbody>
        </table>
    <h4><a href="{{ path('app_item_index') }}">Voir la totalit√© de la liste</a></h4>
    </div>
        

</div>
{% endblock %}
